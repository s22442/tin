var H=Object.defineProperty,X=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var w=(e,t,n)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))G.call(t,n)&&w(e,n,t[n]);if(B)for(var n of B(t))W.call(t,n)&&w(e,n,t[n]);return e},x=(e,t)=>X(e,K(t));import{d as C,u as M,r as L,a as I,o as u,c as p,b as v,e as m,w as D,p as Z,f as J,g as f,h as $,F as O,i as V,j as Q,n as Y,k as R,l as ee,m as A,q as N,s as k,t as te,v as oe,x as z,y as ne}from"./vendor.0fdba2a0.js";const ie=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}};ie();var g=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n};const T=e=>(Z("data-v-0756bb27"),e=e(),J(),e),le={id:"controlPanel"},se=T(()=>f("div",{class:"label"},"Wybierz kolor:",-1)),re=T(()=>f("div",{class:"label"},"Wybierz akcj\u0119:",-1)),ae=T(()=>f("div",{class:"label"},"Maks. liczba div\xF3w w\xA0divie:",-1)),de=$("Zapisz"),ue=T(()=>f("div",{class:"label"},"Maks. g\u0142\u0119boko\u015B\u0107:",-1)),ce=$("Zapisz"),_e=C({setup(e){const{state:t,dispatch:n}=M(),s=L(t.maxChildrenCount),i=L(t.maxDepth),a=()=>{n("updateMaxChildrenCount",s.value||0)},c=()=>{n("updateMaxDepth",i.value||0)};return(d,_)=>{const b=I("b-color-input"),E=I("b-select-list"),o=I("b-number-input"),l=I("b-btn");return u(),p("div",le,[se,v(b,{"model-value":m(t).activeColor,"onUpdate:modelValue":_[0]||(_[0]=r=>m(n)("updateActiveColor",r))},null,8,["model-value"]),re,v(E,{"model-value":m(t).activeAction,options:m(t).colorItemOptions,"onUpdate:modelValue":_[1]||(_[1]=r=>m(n)("updateActiveAction",r))},null,8,["model-value","options"]),ae,v(o,{modelValue:s.value,"onUpdate:modelValue":_[2]||(_[2]=r=>s.value=r)},null,8,["modelValue"]),v(l,{onClick:a},{default:D(()=>[de]),_:1}),ue,v(o,{modelValue:i.value,"onUpdate:modelValue":_[3]||(_[3]=r=>i.value=r)},null,8,["modelValue"]),v(l,{onClick:c},{default:D(()=>[ce]),_:1})])}}});var pe=g(_e,[["__scopeId","data-v-0756bb27"]]);const he=C({name:"ColorDiv",props:{item:{type:Object,required:!0}},emits:["remove:child"],computed:{lineCount(){return Math.ceil(Math.sqrt(this.item.children.length))},gridLineProperty(){return`repeat(${this.lineCount}, 1fr)`}},methods:{getActiveAction(){return this.$store.state.activeAction},getActiveColor(){return this.$store.state.activeColor},colorizeBg(){this.item.updateBgColor(this.getActiveColor())},colorizeBorder(){this.item.updateBorderColor(this.getActiveColor())},addChild(){this.item.addChild()},suggestSwap(){this.item.suggestSwap()},removeSelf(){this.item.removeSelf()},roundRadius(){this.item.roundRadius()},handleMousedown(){const e=this.getActiveAction();!e||{colorizeBg:this.colorizeBg,colorizeBorder:this.colorizeBorder,add:this.addChild,swap:this.suggestSwap,remove:this.removeSelf,round:this.roundRadius}[e]()},handleMouseup(){this.getActiveAction()==="swap"&&this.item.acceptSwap()}}});function me(e,t,n,s,i,a){const c=I("ColorDiv",!0);return u(),p("div",{class:"color-div",style:Y({background:e.item.bgColor,border:`1px solid ${e.item.borderColor}`,borderRadius:e.item.isCircular?"9999px":"0",gridTemplateColumns:e.gridLineProperty,gridTemplateRows:e.gridLineProperty}),onMousedown:t[0]||(t[0]=R((...d)=>e.handleMousedown&&e.handleMousedown(...d),["self"])),onMouseup:t[1]||(t[1]=R((...d)=>e.handleMouseup&&e.handleMouseup(...d),["self"]))},[(u(!0),p(O,null,V(e.item.children,d=>(u(),Q(c,{key:d.id,item:d},null,8,["item"]))),128))],36)}var ve=g(he,[["render",me],["__scopeId","data-v-49427536"]]);const Ce={id:"playground"},fe=C({setup(e){const{state:t,getters:n}=M(),s=ee(()=>!!t.activeAction),c={bgColor:"#fff",borderColor:"#000",isCircular:!1,childToSwapId:null,updateBgColor(o){this.bgColor=o},updateBorderColor(o){this.borderColor=o},roundRadius(){this.isCircular=!this.isCircular},addChild(){!Array.isArray(this.children)||this.children.length>=t.maxChildrenCount||this.depth===void 0||this.depth>=t.maxDepth||this.children.push((()=>{const o=n.getColorItemId(),l=x(y({},c),{id:o,depth:this.depth+1,children:A([])});return l.removeSelf=()=>{this.removeChild(o)},l.suggestSwap=()=>{this.childToSwapId=o},l.acceptSwap=async()=>{this.childToSwapId!==null&&(this.swapChildren(o),this.childToSwapId=null)},l})())},swapChildren(o){const l=this.children;if(!(l==null?void 0:l.length))return;const r=l.findIndex(S=>S.id===this.childToSwapId),h=l.findIndex(S=>S.id===o);r===void 0||h===void 0||r===-1||h===-1||r===h||([l[r],l[h]]=[l[h],l[r]])},removeChild(o){var r;const l=(r=this.children)==null?void 0:r.findIndex(h=>h.id===o);l===void 0||l===-1||this.children.splice(l,1)}},d=A(x(y({},c),{id:n.getColorItemId(),depth:0,children:A([]),removeSelf(){},suggestSwap(){},acceptSwap(){}})),_=o=>{var l;!((l=o.children)==null?void 0:l.length)||(o.children.length>t.maxChildrenCount&&o.children.splice(0,o.children.length,...o.children.slice(0,t.maxChildrenCount)),o.children.forEach(_))},b=o=>{var l;!((l=o.children)==null?void 0:l.length)||(o.depth>=t.maxDepth?o.children.splice(0,o.children.length):o.children.forEach(b))};return N(()=>t.maxChildrenCount,()=>{_(d)}),N(()=>t.maxDepth,()=>{b(d)}),(()=>{const o=(l,r)=>{for(let h=0;h<r;h++)l.addChild()};o(d,9),o(d.children[4],9),o(d.children[4].children[4],9)})(),(o,l)=>(u(),p("div",Ce,[v(m(ve),{class:k(["main-color-div",m(s)&&"main-color-div--active"]),item:m(d)},null,8,["class","item"])]))}});var ge=g(fe,[["__scopeId","data-v-f41f01f2"]]);const Ie=C({setup(e){return(t,n)=>(u(),p(O,null,[v(m(pe)),v(m(ge))],64))}}),be=[{text:"Brak akcji",value:null},{text:"Kolorowanie pola diva",value:"colorizeBg"},{text:"Kolorowanie ramki diva",value:"colorizeBorder"},{text:"Dodawanie diva",value:"add"},{text:"Przenoszenie diva",value:"swap"},{text:"Usuwanie diva",value:"remove"},{text:"Prze\u0142\u0105czanie zaokr\u0105glenia",value:"round"}],Te="INCREMENT_LAST_COLOR_ITEM_ID",Se="SET_COLOR_ITEM_OPTIONS",P="SET_ACTIVE_ACTION",U="SET_ACTIVE_COLOR",F="SET_MAX_DEPTH",j="SET_MAX_CHILDREN_COUNT";var ye=te({state:{lastColorItemId:-1,colorItemOptions:be,activeAction:null,activeColor:"#ffffff",maxDepth:3,maxChildrenCount:9},getters:{getColorItemId:e=>()=>e.lastColorItemId++},mutations:{[Te](e){e.lastColorItemId++},[Se](e,t){e.colorItemOptions=t},[P](e,t){e.activeAction=t},[U](e,t){e.activeColor=t},[F](e,t){e.maxDepth=t},[j](e,t){e.maxChildrenCount=t}},actions:{updateActiveAction({commit:e},t){e(P,t)},updateActiveColor({commit:e},t){e(U,t)},updateMaxDepth({commit:e},t){e(F,t)},updateMaxChildrenCount({commit:e},t){e(j,t)}}});const xe={},Oe={class:"base-button"};function Ae(e,t){return u(),p("div",Oe,[oe(e.$slots,"default",{},void 0,!0)])}var Ee=g(xe,[["render",Ae],["__scopeId","data-v-49d2f47d"]]);const Be={class:"base-color-input__wrapper"},we=["value"],Me={class:"base-color-input__cover"},Le={class:"base-color-input__value"},De=C({props:{modelValue:null},emits:["update:modelValue"],setup(e){return(t,n)=>(u(),p("div",Be,[f("input",{class:"base-color-input",type:"color",value:e.modelValue,onInput:n[0]||(n[0]=s=>t.$emit("update:modelValue",s.target.value))},null,40,we),f("div",Me,[f("div",Le,z(e.modelValue),1)])]))}});var $e=g(De,[["__scopeId","data-v-03671d7f"]]);const Ve=["value"],Re=C({props:{modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const n=s=>{const i=s.target.value;t("update:modelValue",i===""?null:+i)};return(s,i)=>(u(),p("input",{class:"base-number-input",type:"number",value:e.modelValue,onInput:n},null,40,Ve))}});var Ne=g(Re,[["__scopeId","data-v-69ab10eb"]]);const ke={class:"base-select-list"},ze=["onClick"],Pe=C({props:{modelValue:null,options:null},emits:["update:modelValue"],setup(e){return(t,n)=>(u(),p("div",ke,[(u(!0),p(O,null,V(e.options,({text:s,value:i},a)=>(u(),p("div",{key:a,class:k(["base-select-list__item",e.modelValue===i&&"base-select-list__item--active"]),onClick:c=>t.$emit("update:modelValue",i)},z(s),11,ze))),128))]))}});var Ue=g(Pe,[["__scopeId","data-v-52086a2c"]]),Fe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BBtn:Ee,BColorInput:$e,BNumberInput:Ne,BSelectList:Ue});const q=ne(Ie).use(ye);for(const[e,t]of Object.entries(Fe))q.component(e,t);q.mount("#app");
